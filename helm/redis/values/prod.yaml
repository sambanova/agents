# Redis configuration
auth:
  enabled: false

image:
  repository: redis/redis-stack-server
  tag: "7.4.0-v5"
  pullPolicy: IfNotPresent

# Ensure Redis Stack modules are loaded
commonConfiguration: |-
  loadmodule /opt/redis-stack/lib/redisearch.so
  loadmodule /opt/redis-stack/lib/rejson.so
  loadmodule /opt/redis-stack/lib/redistimeseries.so
  loadmodule /opt/redis-stack/lib/redisbloom.so

master:
  persistence:
    enabled: true
    size: 10Gi
    storageClass: openebs-hostpath
  
  resources:
    limits:
      cpu: "2000m"
      memory: "4Gi"
    requests:
      cpu: "500m"
      memory: "1Gi"

  livenessProbe:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 60
  
  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 20

replica:
  replicaCount: 0

service:
  type: ClusterIP
  ports:
    redis: 6379 